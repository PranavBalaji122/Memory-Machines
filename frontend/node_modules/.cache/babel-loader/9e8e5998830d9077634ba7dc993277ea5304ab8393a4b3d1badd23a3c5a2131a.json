{"ast":null,"code":"var _jsxFileName = \"/Users/pranavbalaji/Documents/Personal CS Projects/Memory Machines/sentiment-aura/frontend/src/components/AuraVisualization.jsx\",\n  _s = $RefreshSig$();\n/**\n * AuraVisualization Component\n * Generative art visualization using Perlin noise fields\n * Responds to sentiment data with dynamic colors, flow, and energy\n * Based on techniques from: https://sighack.com/post/getting-creative-with-perlin-noise-fields\n */\n\nimport React, { useRef } from 'react';\nimport Sketch from 'react-p5';\nimport './AuraVisualization.css';\n\n/**\n * @param {Object} props\n * @param {Object|null} props.sentiment - Sentiment data (score, type, intensity)\n * @param {Array} props.keywords - Keywords for additional visual elements\n * @param {boolean} props.isActive - Whether visualization should be animated\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AuraVisualization({\n  sentiment,\n  keywords = [],\n  isActive\n}) {\n  _s();\n  // Visualization parameters - these smoothly transition based on sentiment\n  const params = useRef({\n    // Color parameters\n    hueBase: 200,\n    // Base hue for color palette\n    hueTarget: 200,\n    // Target hue to transition to\n    saturation: 70,\n    // More vibrant colors\n    brightness: 90,\n    // Brighter particles\n\n    // Flow parameters\n    flowSpeed: 0.01,\n    // Faster animation\n    flowScale: 0.005,\n    // Smoother flow field\n    particleSpeed: 1.2,\n    // Speed multiplier for particles\n\n    // Visual parameters\n    particleCount: 800,\n    // Number of flow particles\n    particleAlpha: 30,\n    // Transparency of particles\n    fieldStrength: 0.15,\n    // Strength of flow field\n\n    // Animation state\n    time: 0,\n    // Animation time counter\n    particles: [] // Particle array\n  });\n\n  /**\n   * Map sentiment to visual parameters\n   * This creates the data-driven visualization\n   */\n  const updateParametersFromSentiment = p5 => {\n    if (!sentiment) return;\n    const {\n      score,\n      type,\n      intensity\n    } = sentiment;\n\n    // Map sentiment type to color palette\n    const targetHue = type === 'positive' ? 120 :\n    // Green for positive\n    type === 'negative' ? 0 :\n    // Red for negative\n    220; // Blue-purple for neutral\n\n    const targetSat = type === 'neutral' ? 60 : 80 + score * 20; // More saturation\n    const targetBright = 80 + score * 20; // Brighter overall\n\n    // Map intensity to animation parameters\n    const intensityMultiplier = intensity === 'strong' ? 1.0 : intensity === 'moderate' ? 0.75 : 0.5;\n\n    // Smoothly transition parameters using lerp\n    params.current.hueTarget = targetHue;\n    params.current.saturation = p5.lerp(params.current.saturation, targetSat, 0.05);\n    params.current.brightness = p5.lerp(params.current.brightness, targetBright, 0.05);\n\n    // Adjust flow dynamics based on sentiment\n    const targetSpeed = type === 'positive' ? 0.01 * intensityMultiplier : 0.003 * intensityMultiplier;\n    params.current.flowSpeed = p5.lerp(params.current.flowSpeed, targetSpeed, 0.02);\n    params.current.particleSpeed = p5.lerp(params.current.particleSpeed, 0.5 + score * 1.5 * intensityMultiplier, 0.02);\n\n    // Adjust particle count based on intensity\n    const targetParticles = 400 + score * 600 * intensityMultiplier;\n    if (params.current.particles.length < targetParticles) {\n      // Add particles gradually\n      for (let i = 0; i < 5; i++) {\n        params.current.particles.push(createParticle(p5));\n      }\n    }\n  };\n\n  /**\n   * Create a single particle for the flow field\n   */\n  const createParticle = p5 => {\n    return {\n      x: p5.random(p5.width),\n      y: p5.random(p5.height),\n      vx: 0,\n      vy: 0,\n      age: 0,\n      maxAge: p5.random(100, 300),\n      size: p5.random(1, 3),\n      hueOffset: p5.random(-20, 20)\n    };\n  };\n\n  /**\n   * Setup p5.js canvas\n   */\n  const setup = (p5, canvasParentRef) => {\n    // Create canvas that fills container\n    p5.createCanvas(canvasParentRef.offsetWidth, canvasParentRef.offsetHeight);\n\n    // Configure rendering\n    p5.colorMode(p5.HSB, 360, 100, 100, 100);\n    p5.background(0, 0, 0); // Pure black background\n    p5.noStroke();\n    p5.frameRate(60); // Target 60fps for smooth animation\n\n    // Initialize particles with more count for better effect\n    params.current.particles = [];\n    params.current.particleCount = 800; // Increase particle count\n    for (let i = 0; i < params.current.particleCount; i++) {\n      params.current.particles.push(createParticle(p5));\n    }\n  };\n\n  /**\n   * Main drawing loop - executes 60 times per second\n   */\n  const draw = p5 => {\n    // Semi-transparent background for trail effect\n    p5.fill(0, 0, 0, 10); // Darker background with more opacity for better trails\n    p5.rect(0, 0, p5.width, p5.height);\n\n    // Always animate for visual appeal, just with lower intensity when inactive\n    // Animation is always active now for better visual appeal\n\n    // Update parameters based on sentiment\n    updateParametersFromSentiment(p5);\n\n    // Smooth color transitions\n    params.current.hueBase = p5.lerp(params.current.hueBase, params.current.hueTarget, 0.02);\n\n    // Increment time for noise evolution\n    params.current.time += params.current.flowSpeed;\n\n    // Update and draw particles\n    params.current.particles.forEach((particle, index) => {\n      // Calculate Perlin noise angle at particle position\n      const noiseScale = params.current.flowScale;\n      const angle = p5.noise(particle.x * noiseScale, particle.y * noiseScale, params.current.time) * p5.TWO_PI * 2;\n\n      // Apply force from noise field\n      const force = params.current.fieldStrength;\n      particle.vx += p5.cos(angle) * force;\n      particle.vy += p5.sin(angle) * force;\n\n      // Apply velocity with damping\n      particle.x += particle.vx * params.current.particleSpeed;\n      particle.y += particle.vy * params.current.particleSpeed;\n      particle.vx *= 0.97; // Damping\n      particle.vy *= 0.97;\n\n      // Age particle\n      particle.age++;\n\n      // Wrap around edges or respawn if too old\n      if (particle.x < 0 || particle.x > p5.width || particle.y < 0 || particle.y > p5.height || particle.age > particle.maxAge) {\n        params.current.particles[index] = createParticle(p5);\n        return;\n      }\n\n      // Calculate particle appearance based on age\n      const lifeRatio = particle.age / particle.maxAge;\n      const alpha = 50 * (1 - lifeRatio); // Higher base alpha for visibility\n\n      // Draw particle with dynamic color\n      p5.fill((params.current.hueBase + particle.hueOffset + 360) % 360, params.current.saturation, params.current.brightness, alpha);\n\n      // Particle size varies with sentiment intensity\n      const size = particle.size * (1 + params.current.particleSpeed * 0.5);\n      p5.ellipse(particle.x, particle.y, size);\n\n      // Add glow effect for all particles for better visibility\n      p5.fill((params.current.hueBase + particle.hueOffset + 360) % 360, params.current.saturation * 0.7, 100, alpha * 0.5);\n      p5.ellipse(particle.x, particle.y, size * 2);\n    });\n\n    // Draw keyword-influenced elements\n    if (keywords.length > 0) {\n      drawKeywordInfluence(p5);\n    }\n  };\n\n  /**\n   * Draw additional visual elements based on keywords\n   */\n  const drawKeywordInfluence = p5 => {\n    keywords.slice(-5).forEach((keyword, index) => {\n      const x = p5.noise(keyword.id * 0.01, params.current.time) * p5.width;\n      const y = p5.noise(keyword.id * 0.01 + 100, params.current.time) * p5.height;\n      const size = 20 + index * 5;\n      p5.push();\n      p5.fill((params.current.hueBase + index * 30) % 360, 50, 80, 10);\n      p5.ellipse(x, y, size * 2);\n      p5.pop();\n    });\n  };\n\n  /**\n   * Handle canvas resize\n   */\n  const windowResized = p5 => {\n    const parent = p5.canvas.parentElement;\n    p5.resizeCanvas(parent.offsetWidth, parent.offsetHeight);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"aura-visualization\",\n    children: [/*#__PURE__*/_jsxDEV(Sketch, {\n      setup: setup,\n      draw: draw,\n      windowResized: windowResized,\n      className: \"aura-canvas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), !isActive && !sentiment && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"visualization-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Visualization waiting for audio input...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n}\n_s(AuraVisualization, \"CqhcgnPL6wy4B8O4geAIAIsGcAI=\");\n_c = AuraVisualization;\nexport default _c2 = /*#__PURE__*/React.memo(AuraVisualization);\nvar _c, _c2;\n$RefreshReg$(_c, \"AuraVisualization\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useRef","Sketch","jsxDEV","_jsxDEV","AuraVisualization","sentiment","keywords","isActive","_s","params","hueBase","hueTarget","saturation","brightness","flowSpeed","flowScale","particleSpeed","particleCount","particleAlpha","fieldStrength","time","particles","updateParametersFromSentiment","p5","score","type","intensity","targetHue","targetSat","targetBright","intensityMultiplier","current","lerp","targetSpeed","targetParticles","length","i","push","createParticle","x","random","width","y","height","vx","vy","age","maxAge","size","hueOffset","setup","canvasParentRef","createCanvas","offsetWidth","offsetHeight","colorMode","HSB","background","noStroke","frameRate","draw","fill","rect","forEach","particle","index","noiseScale","angle","noise","TWO_PI","force","cos","sin","lifeRatio","alpha","ellipse","drawKeywordInfluence","slice","keyword","id","pop","windowResized","parent","canvas","parentElement","resizeCanvas","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","_c2","memo","$RefreshReg$"],"sources":["/Users/pranavbalaji/Documents/Personal CS Projects/Memory Machines/sentiment-aura/frontend/src/components/AuraVisualization.jsx"],"sourcesContent":["/**\n * AuraVisualization Component\n * Generative art visualization using Perlin noise fields\n * Responds to sentiment data with dynamic colors, flow, and energy\n * Based on techniques from: https://sighack.com/post/getting-creative-with-perlin-noise-fields\n */\n\nimport React, { useRef } from 'react';\nimport Sketch from 'react-p5';\nimport './AuraVisualization.css';\n\n/**\n * @param {Object} props\n * @param {Object|null} props.sentiment - Sentiment data (score, type, intensity)\n * @param {Array} props.keywords - Keywords for additional visual elements\n * @param {boolean} props.isActive - Whether visualization should be animated\n */\nfunction AuraVisualization({ sentiment, keywords = [], isActive }) {\n  // Visualization parameters - these smoothly transition based on sentiment\n  const params = useRef({\n    // Color parameters\n    hueBase: 200,        // Base hue for color palette\n    hueTarget: 200,      // Target hue to transition to\n    saturation: 70,      // More vibrant colors\n    brightness: 90,      // Brighter particles\n    \n    // Flow parameters\n    flowSpeed: 0.01,    // Faster animation\n    flowScale: 0.005,     // Smoother flow field\n    particleSpeed: 1.2,    // Speed multiplier for particles\n    \n    // Visual parameters\n    particleCount: 800,  // Number of flow particles\n    particleAlpha: 30,   // Transparency of particles\n    fieldStrength: 0.15,    // Strength of flow field\n    \n    // Animation state\n    time: 0,            // Animation time counter\n    particles: []       // Particle array\n  });\n  \n  /**\n   * Map sentiment to visual parameters\n   * This creates the data-driven visualization\n   */\n  const updateParametersFromSentiment = (p5) => {\n    if (!sentiment) return;\n    \n    const { score, type, intensity } = sentiment;\n    \n    // Map sentiment type to color palette\n    const targetHue = type === 'positive' ? 120 :  // Green for positive\n                      type === 'negative' ? 0 :     // Red for negative\n                      220;                          // Blue-purple for neutral\n    \n    const targetSat = type === 'neutral' ? 60 : 80 + (score * 20); // More saturation\n    const targetBright = 80 + (score * 20); // Brighter overall\n    \n    // Map intensity to animation parameters\n    const intensityMultiplier = intensity === 'strong' ? 1.0 : \n                                intensity === 'moderate' ? 0.75 : 0.5;\n    \n    // Smoothly transition parameters using lerp\n    params.current.hueTarget = targetHue;\n    params.current.saturation = p5.lerp(params.current.saturation, targetSat, 0.05);\n    params.current.brightness = p5.lerp(params.current.brightness, targetBright, 0.05);\n    \n    // Adjust flow dynamics based on sentiment\n    const targetSpeed = type === 'positive' ? \n      0.01 * intensityMultiplier : \n      0.003 * intensityMultiplier;\n    \n    params.current.flowSpeed = p5.lerp(params.current.flowSpeed, targetSpeed, 0.02);\n    params.current.particleSpeed = p5.lerp(params.current.particleSpeed, \n      0.5 + score * 1.5 * intensityMultiplier, 0.02);\n    \n    // Adjust particle count based on intensity\n    const targetParticles = 400 + (score * 600 * intensityMultiplier);\n    if (params.current.particles.length < targetParticles) {\n      // Add particles gradually\n      for (let i = 0; i < 5; i++) {\n        params.current.particles.push(createParticle(p5));\n      }\n    }\n  };\n  \n  /**\n   * Create a single particle for the flow field\n   */\n  const createParticle = (p5) => {\n    return {\n      x: p5.random(p5.width),\n      y: p5.random(p5.height),\n      vx: 0,\n      vy: 0,\n      age: 0,\n      maxAge: p5.random(100, 300),\n      size: p5.random(1, 3),\n      hueOffset: p5.random(-20, 20)\n    };\n  };\n  \n  /**\n   * Setup p5.js canvas\n   */\n  const setup = (p5, canvasParentRef) => {\n    // Create canvas that fills container\n    p5.createCanvas(\n      canvasParentRef.offsetWidth,\n      canvasParentRef.offsetHeight\n    );\n    \n    // Configure rendering\n    p5.colorMode(p5.HSB, 360, 100, 100, 100);\n    p5.background(0, 0, 0); // Pure black background\n    p5.noStroke();\n    p5.frameRate(60); // Target 60fps for smooth animation\n    \n    // Initialize particles with more count for better effect\n    params.current.particles = [];\n    params.current.particleCount = 800; // Increase particle count\n    for (let i = 0; i < params.current.particleCount; i++) {\n      params.current.particles.push(createParticle(p5));\n    }\n  };\n  \n  /**\n   * Main drawing loop - executes 60 times per second\n   */\n  const draw = (p5) => {\n    // Semi-transparent background for trail effect\n    p5.fill(0, 0, 0, 10); // Darker background with more opacity for better trails\n    p5.rect(0, 0, p5.width, p5.height);\n    \n    // Always animate for visual appeal, just with lower intensity when inactive\n    // Animation is always active now for better visual appeal\n    \n    // Update parameters based on sentiment\n    updateParametersFromSentiment(p5);\n    \n    // Smooth color transitions\n    params.current.hueBase = p5.lerp(params.current.hueBase, params.current.hueTarget, 0.02);\n    \n    // Increment time for noise evolution\n    params.current.time += params.current.flowSpeed;\n    \n    // Update and draw particles\n    params.current.particles.forEach((particle, index) => {\n      // Calculate Perlin noise angle at particle position\n      const noiseScale = params.current.flowScale;\n      const angle = p5.noise(\n        particle.x * noiseScale,\n        particle.y * noiseScale,\n        params.current.time\n      ) * p5.TWO_PI * 2;\n      \n      // Apply force from noise field\n      const force = params.current.fieldStrength;\n      particle.vx += p5.cos(angle) * force;\n      particle.vy += p5.sin(angle) * force;\n      \n      // Apply velocity with damping\n      particle.x += particle.vx * params.current.particleSpeed;\n      particle.y += particle.vy * params.current.particleSpeed;\n      particle.vx *= 0.97; // Damping\n      particle.vy *= 0.97;\n      \n      // Age particle\n      particle.age++;\n      \n      // Wrap around edges or respawn if too old\n      if (particle.x < 0 || particle.x > p5.width ||\n          particle.y < 0 || particle.y > p5.height ||\n          particle.age > particle.maxAge) {\n        params.current.particles[index] = createParticle(p5);\n        return;\n      }\n      \n      // Calculate particle appearance based on age\n      const lifeRatio = particle.age / particle.maxAge;\n      const alpha = 50 * (1 - lifeRatio); // Higher base alpha for visibility\n      \n      // Draw particle with dynamic color\n      p5.fill(\n        (params.current.hueBase + particle.hueOffset + 360) % 360,\n        params.current.saturation,\n        params.current.brightness,\n        alpha\n      );\n      \n      // Particle size varies with sentiment intensity\n      const size = particle.size * (1 + params.current.particleSpeed * 0.5);\n      p5.ellipse(particle.x, particle.y, size);\n      \n      // Add glow effect for all particles for better visibility\n      p5.fill(\n        (params.current.hueBase + particle.hueOffset + 360) % 360,\n        params.current.saturation * 0.7,\n        100,\n        alpha * 0.5\n      );\n      p5.ellipse(particle.x, particle.y, size * 2);\n    });\n    \n    // Draw keyword-influenced elements\n    if (keywords.length > 0) {\n      drawKeywordInfluence(p5);\n    }\n  };\n  \n  /**\n   * Draw additional visual elements based on keywords\n   */\n  const drawKeywordInfluence = (p5) => {\n    keywords.slice(-5).forEach((keyword, index) => {\n      const x = p5.noise(keyword.id * 0.01, params.current.time) * p5.width;\n      const y = p5.noise(keyword.id * 0.01 + 100, params.current.time) * p5.height;\n      const size = 20 + index * 5;\n      \n      p5.push();\n      p5.fill(\n        (params.current.hueBase + index * 30) % 360,\n        50,\n        80,\n        10\n      );\n      p5.ellipse(x, y, size * 2);\n      p5.pop();\n    });\n  };\n  \n  /**\n   * Handle canvas resize\n   */\n  const windowResized = (p5) => {\n    const parent = p5.canvas.parentElement;\n    p5.resizeCanvas(parent.offsetWidth, parent.offsetHeight);\n  };\n  \n  return (\n    <div className=\"aura-visualization\">\n      <Sketch \n        setup={setup}\n        draw={draw}\n        windowResized={windowResized}\n        className=\"aura-canvas\"\n      />\n      \n      {/* Overlay for status information */}\n      {!isActive && !sentiment && (\n        <div className=\"visualization-overlay\">\n          <p>Visualization waiting for audio input...</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(AuraVisualization);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}